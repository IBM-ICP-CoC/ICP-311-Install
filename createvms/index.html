<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Creating VMs - Installing IBM Cloud Private</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Creating VMs";
    var mkdocs_page_input_path = "createvms.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Installing IBM Cloud Private</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Creating VMs</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#create-the-virtual-machines">Create the Virtual Machines</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../setupall/">Setup on All VMs</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../installicp/">Installation</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../customurl/">Using a custom URL</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../ldap/">Installing and Configuring LDAP</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../addnfs/">Adding NFS Storage</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Installing IBM Cloud Private</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Creating VMs</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="create-the-virtual-machines">Create the Virtual Machines</h1>
<p>Provision 5 virtual machines with this configuration:</p>
<ul>
<li>RHEL Minimal (7.x)</li>
<li>8 CPU / 16GÂ  Mem</li>
<li>100GB Boot Disk</li>
<li>200GB Disk 1</li>
<li>500GB Disk 2</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can create all 5 VMs at the same time with the same configuration by using the <code>Quantity</code> field on the order page.</p>
</div>
<p>To create virtual machines:</p>
<ul>
<li>Login to your <a href="https://cloud.ibm.com">IBM Cloud</a> account.</li>
<li>Click the <code>Create Resource</code> button on the Dashboard page</li>
<li>Click the Virtual Server tile.<br />
<img alt="virtual server" src="../images/virtualserver.png" /></li>
<li>Specify the following settings for your Virtual Server Instance:<ul>
<li>The <code>Public Virtual Server</code> tile should be selected; click <code>Continue</code>.</li>
<li>Choose <code>Public</code> as the type of virtual server</li>
<li>Set the <code>Quantity</code> to <code>5</code></li>
<li>Specify values for <code>Host Name</code> and <code>Domain</code></li>
<li>Choose the location and data center of your choice</li>
<li>Choose the <code>Balanced B1.8x16</code> profile.  You many need to choose the <code>All Profiles</code> tab to find it.</li>
<li>Choose <code>Red Hat</code> as the Image (take the default <code>7.x Minimal (64-bit) - HVM</code>).  Make sure you actually cick the <code>Red Hat</code> box and that it has a blue outline and the blue checkmark.</li>
<li>In the <code>Attached Storage Disks</code> section, click the <code>Add New</code> button twice to create two new disks, named <code>Disk 1</code> and <code>Disk 2</code></li>
<li>change the size of the disks:<ul>
<li><code>Boot Disk</code> to <code>100 GB</code></li>
<li><code>Disk 1</code> to <code>200 GB</code></li>
<li><code>Disk 2</code> to <code>500 GB</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>When finished the screen should look like this:</p>
<p><img alt="" src="../images/virtualserverinstance1.png" />
<img alt="" src="../images/virtualserverinstance2.png" />
<img alt="" src="../images/virtualserverinstance3.png" /></p>
<ul>
<li>Click the checkbox to acknowledge that you have read and agree to the third party agreements and click <code>Create</code>.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These values for <code>host name</code> and <code>domain</code> do not have any affect on the actual host name and domain defined
inside the virtual machines.  They are just labels and can be changed at any time.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you chose a quantity greater than 1 your virtual machines may have an added sequence number in their host names.  Don't forget that you can change the names of your virtual machines after they are created. The name of your VM's in the IBM Cloud Infrastructure section are just for your own reference. It's best practice to name each of them with some indication on what role they will play in your cluster, such as (master, mgmt, worker, va, proxy)</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You will need to transfer a very large file to your <code>master</code> node.  Once your machines are created, you can initiate this transfer.  You will need to know the password for <code>root</code>, which you can get from the <code>Passwords</code> tab on the <code>Device Details</code> page.</p>
<p>To transfer the file open a terminal window on your host machine, navigate to the directory where the file is stored and execute this command:</p>
<p><code>scp ibm-cloud-private-x86_64-3.1.1.tar.gz root@&lt;your Master node IP&gt;:/tmp</code></p>
<p>The scp command is the <code>Secure File Transfer</code> command. </p>
</div>
<p>When your machines are provisioned it will be helpful for you to collect some information together that you will need later.  The table below is an example of what you should collect.  The hostnames can be whatever values you want.  The passwords are for the <code>root</code> user and can be obtained on the <code>Passwords</code> tab of the Details page for your device.</p>
<table>
<thead>
<tr>
<th>Machine Role</th>
<th>hostname</th>
<th>IP Address</th>
<th>Password</th>
</tr>
</thead>
<tbody>
<tr>
<td>Master/Proxy/Boot</td>
<td>my-icp-master</td>
<td>xxx.xxx.xxx.xxx</td>
<td>xxxxxxxx</td>
</tr>
<tr>
<td>Management</td>
<td>my-icp-mgmt</td>
<td>xxx.xxx.xxx.xxx</td>
<td>xxxxxxxx</td>
</tr>
<tr>
<td>VA</td>
<td>my-icp-va</td>
<td>xxx.xxx.xxx.xxx</td>
<td>xxxxxxxx</td>
</tr>
<tr>
<td>Worker1</td>
<td>my-icp-worker1</td>
<td>xxx.xxx.xxx.xxx</td>
<td>xxxxxxxx</td>
</tr>
<tr>
<td>Worker2</td>
<td>my-icp-worker2</td>
<td>xxx.xxx.xxx.xxx</td>
<td>xxxxxxxx</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I recommend you use the Public IPs for all your virtual machines. You can use the Private IP for everything except the PROXY node if you really want to, but you must be consistent in all the next steps for everything to work properly. </p>
</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../setupall/" class="btn btn-neutral float-right" title="Setup on All VMs">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/IBM-ICP-CoC/ICP-311-Install" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../setupall/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
